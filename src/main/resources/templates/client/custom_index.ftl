<!DOCTYPE html><html lang="en"><head>   <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">	<title><#if setting??>${setting.seoTitle!''}-</#if>私人定制-普通定制</title>	<meta name="keywords" content="<#if setting??>${setting.seoKeywords!''}</#if>">	<meta name="description" content="<#if setting??>${setting.seoDescription!''}</#if>">	<meta name="copyright" content="<#if setting??>${setting.copyright!''}</#if>"></head><link rel="shortcut icon" href="/client/images/tianya.ico"><link rel="stylesheet" type="text/css" href="/client/css/base.css">    <link rel="stylesheet" type="text/css" href="/client/css/common.css">    <link rel="stylesheet" type="text/css" href="/client/css/rich_css.css">    <link rel="stylesheet" type="text/css" href="/client/css/f_pirvatecustom.css">    <!-- 美化下拉列表样式-->    <link rel="stylesheet" type="text/css" href="/client/css/selectordie.css">    <link rel="stylesheet" type="text/css" href="/client/css/selectordie_theme.css">    <script src="/client/js/jquery-1.11.0.js" type="text/javascript"></script>    <script src="/client/js/jquery.page.js" type="text/javascript"></script>    <script src="/client/js/f_aboutjs.js" type="text/javascript"></script>    <script src="/client/js/rich_lee.js" type="text/javascript"></script>    <!-- 美化下拉列表控件-->    <script src="/client/js/selectordie.js" type="text/javascript"></script>    <script type=text/javascript src="/mag/js/WdatePicker.js"></script>    <script src="/client/js/Validform_v5.3.2_min.js"></script>            <script type="text/javascript">        	var seed=60;    //60秒  		var t1=null;        	function way(param){    		if(param==0){    			$("#000").css('border-right','none');    			$("#111").css('border-right','block');    			$("#222").css('border-right','block');    			$("#333").css('border-right','block');    			$("#444").css('border-right','block');    			$("#11").css('display','none');    			$("#22").css('display','none');    			$("#33").css('display','none');    			$("#44").css('display','none');    			$("#trip").val('不限');	    		$("#yincang").css('display','none');    		}    		else if(param==1){    			$("#11").css('display','inline-block');    			$("#111").css('border-right','none');    			$("#000").css('border-right','block');    			$("#222").css('border-right','block');    			$("#333").css('border-right','block');    			$("#444").css('border-right','block');    			$("#22").css('display','none');    			$("#33").css('display','none');    			$("#44").css('display','none');    		}    		else if(param==2){    			$("#22").css('display','inline-block');    			$("#222").css('border-right','none');    			$("#111").css('border-right','block');    			$("#444").css('border-right','block');    			$("#333").css('border-right','block');    			$("#000").css('border-right','block');    			$("#11").css('display','none');    			$("#33").css('display','none');    			$("#44").css('display','none');    		}    		else if(param==3){    			$("#33").css('display','inline-block');    			$("#333").css('border-right','none');    			$("#111").css('border-right','block');    			$("#222").css('border-right','block');    			$("#444").css('border-right','block');    			$("#000").css('border-right','block');    			$("#22").css('display','none');    			$("#11").css('display','none');    			$("#44").css('display','none');    		}    		else if(param==4){    			$("#44").css('display','inline-block');    			$("#444").css('border-right','none');    			$("#111").css('border-right','block');    			$("#222").css('border-right','block');    			$("#333").css('border-right','block');    			$("#000").css('border-right','block');    			$("#22").css('display','none');    			$("#33").css('display','none');    			$("#11").css('display','none');    		}    	}    	    	//提交私家定制输入验证码弹框  	    function prom() {  	        var mcode = prompt("请输入您收到的验证码", ""); 	  		var pp="";	        //这里需要注意的是，prompt有两个参数，前面是提示的话，后面是当对话框出来后，在对话框里的默认值  	        if (mcode)//如果返回的有内容  	        {  	        	$.ajax({		    		type: "POST",		    		url: "/private/validateCode",		    		data: "mcode=" + mcode,		    		success: function(msg){		    			if(msg.pass=="no"){							pp = "notpass";	    					    			}else{							pp =  "pass";	    					    			}		    		}		    	});	            return pp;	        }else{	        	return "no";	        }  	  	    }  	    // 发送验证码	    function ajaxGetValidCode(mobile){	    	$.ajax({	    		type: "POST",	    		url: "/private/getValidCode?m=" + mobile,	    		success: function(msg){	    			if(msg.status=="no"){						return "no";	    				    			}else{						return "yes";	    				    			}			   }	    	});	    }	     // 验证验证码	    function validateMcode(mcode, ps){	    	var ppss = ps;	    	$.ajax({	    		type: "POST",	    		url: "/private/validateCode",	    		data: "mcode=" + mcode,	    		success: function(msg){	    			if(msg.pass=="no"){						ppss = "no";	    				    			}else{						ppss = "yes";	    				    			}	    		}	    	});	    	alert("ppss:" + ppss);	    	return ppss;	    }    	    	$(document).ready(function(){    		//初始化表单验证			$("#form1").Validform({        		tiptype: 3    		});    	    		$("#trip").click(function(){				$("#yincang").css('display','inline-block');    		    		});    		    		$("#button1").click(function(){    			    			//#a	你的目的地    			//#b	出行人数    			//#c	出发日期    			//#d	返程日期    			//#trip	出发方式    			//#f	酒店    			//#g	您的联系电话    			//#h	您的邮箱    			//#i	特殊要求    			//#j	最大支付限额    			    			var mdd = $("#a").val();    			var cxrs = $("#b").val();    			var cfrq = $("#c").val();    			var fcrq = $("#d").val();    			var cffs = $("#trip").val();    			var jd = $("#f").val();    			var lxdh = $("#g").val();    			var yx = $("#h").val();    			var tsyq = $("#i").val();    			var zdzfxe = $("#j").val();    			var strData = "mdd_" + mdd + "|cxrs_" + cxrs + "|cfrq_" + cfrq + "|fcrq_" + fcrq + "|cffs_" + cffs + "|jd_" + jd + "|lxdh_" + lxdh + "|yx_" + yx + "|tsyq_" + tsyq + "|zdzfxe_" + zdzfxe;    			var customData = "?customData=" + strData;    			    			    			// 正整数    			var positive_num = /^[0-9]*[1-9][0-9]*$/;    			// 电话号码    			var pattern_phone = /^1[34578]\d{9}$/;    			// 电子邮箱    			var pattern_email = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;    			// 金额（两位小数）    			var pattern_money = /^(([1-9]{1}\d*)|([0]{1}))(\.(\d){1,2})?$/;    			    			if($("#a").val() == "" || $("#a").val() == null || $("#a").val()=="你的目的地"){    				$("#error").text("提示：请输入目的地！");    				return;    			}else if($("#b").val() == "" || $("#b").val() == null || $("#b").val() == "出行人数"){    				$("#error").text("提示：请选择出行人数！");    				return;    			}else if(!positive_num.test($("#b").val()) || $("#b").val()==""){    				$("#error").text("提示：出行人数必须为正整数");    				return;    			}else if($("#c").val() == "出发日期" || $("#c").val() == ""){    				$("#error").text("提示：请选择出发日期");    				return;    			}else if($("#d").val() == "返程日期" || $("#d").val() == ""){    				$("#error").text("提示：请选择返程日期");    				return;    			}else if($("#trip").val() == "出发方式" || $("#trip").val() == ""){    				$("#error").text("提示：请选择出发方式");    				return;    			}else if($("#g").val() == "" || $("#g").val() == null || $("#g").val() == "您的联系电话"){    				$("#error").text("提示：请输入手机号码");    				return;    			}else if(!pattern_phone.test($("#g").val()) || $("#g").val()==""){    				$("#error").text("提示：输入的手机号码有误");    				return;    			}/*else if($("#h").val() == "" || $("#h").val() == null || $("#h").val() == "您的邮箱"){    				$("#h").val("");    				$("#error").text("提示：请输入您的邮箱");    				return;    			}else if(!pattern_email.test($("#h").val())){    				$("#error").text("提示：邮箱格式错误");    				return;    			}*/else if($("#j").val() == "" || $("#j").val() == null || $("#j").val() == "请输入你的最大支付限额"){    				$("#error").text("提示：请输入你的最大支付限额");    				return;    			}else if($("#h").val() != "" && $("#h").val() != "您的邮箱"){    				if(!pattern_email.test($("#h").val())){    					$("#error").text("提示：邮箱格式错误");    					return;    				}    			}    			else if(!pattern_money.test($("#j").val())){    				$("#error").text("提示：金额输入错误，可保留两位小数");    				return;    			}    		//	var il111 = isLogin();    		//	alert(il111);    		//	if(il111 == 0){    		//		alert("对不起，您还没有登录哦！");    		//		window.location.href="/login";    		//	}	    		$.ajax({					url: "/user/isPrivateLogin",					success: function(msg){						if(msg.isPrivateLogin=="no"){							alert("请先登录");							var urlData = "/login" + customData;							window.location.href=urlData;						}					}				});    			    		    			$("#yincang2").css('display','none');    			$("#yincang3").css('display','inline-block');    			$("#aa").html($('#a').val());    			$("#bb").html($('#b').val());    			$("#cc").html($('#c').val());    			$("#dd").html($('#d').val());    			$("#ee").html($('#trip').val());    			$("#ff").html($('#f').val());    			$("#gg").html($('#g').val());    			$("#hh").html($('#h').val());    			if($("#i").val() == "特殊要求：如：单人房、双人房"){    				$("#ii").html($('#i').val(""));    			}else{    				$("#ii").html($('#i').val());    			}    			$("#jj").html($('#j').val());    			    			    		});    	});    	    	function click1(){    		$("#yincang2").css('display','inline-block');    		$("#yincang3").css('display','none');    	}    	    	function change(){    		var value1 = $("input[name='radio']:checked").val();    		$("#trip").val(value1);    		$("#yincang").css('display','none');    	}    	        window.onload = function () {            banner_go('my');//焦点图            act_nav();            //加载分页            $(".page").createPage({                pageCount: 6,                current: 1,                backFn: function (p) {                    console.log(p);                }            });            //            初始化排序下拉列表            //$('select').selectOrDie();        };				function ajaxSubmit(){				    				 var mobile = $("#gg").text();			// 获取验证码			var isYes = ajaxGetValidCode(mobile);			$("#qrbtj").attr("onclick","return false");	    	t1 = setInterval(tip, 1000);			// 获取验证码失败			if(isYes == "no"){				alert("验证码获取失败！");				return;			}			var mcode = prompt("请输入您的验证码", ""); 	        //这里需要注意的是，prompt有两个参数，前面是提示的话，后面是当对话框出来后，在对话框里的默认值  	        if (mcode)//如果返回的有内容  	        {  	        			    	$.post("/private/validateCode",{"mcode":mcode},		    		function(msg){		    			if(msg.pass=="no"){							alert("验证码错误!");							return;		    			}else{		    				//正常提交			var reachPort = $("#aa").text();			var totalPeople = $("#bb").text();			var groupSaleStartTime = $("#cc").text();			var groupSaleStopTime = $("#dd").text();			var way = $("#ee").text();			var hotel = $("#ff").text();			var mobile = $("#gg").text();			var email = $("#hh").text();			var money = $("#jj").text();			var remark = $("#ii").text();			var privateType = $("input[name='privateType']:checked").val();			//alert(privateType);			$.ajax({		        type:"post",		        url:"/private/make",		        data:{"reachPort": reachPort,"totalPeople": totalPeople,"groupSaleStartTime": groupSaleStartTime,"groupSaleStopTime": groupSaleStopTime,"way": way,"hotel": hotel,"mobile": mobile,"email": email,"money": money,"remark": remark,"privateType": privateType},		        success:function(data){		        	if(data.code==0){		        		alert("保存成功，请保持电话通畅！并为你匹配到下面信息！");		        		window.location.href="/search_list?keyword="+reachPort+"&keyword2="+data.money;       		 		}else{       		 			alert("请先登录！");       		 			window.location.href="/login";       		 		}   				}			});		    			}		    		}		    	);		    		        }else{	        	alert("验证码不能为空!");	        }  											};				function enableBtn()		{  		    //$("#button1").removeAttr("disabled");   		    $("#qrbtj").attr("onclick", "ajaxSubmit()");		} 				function isLogin(){		//	var il=2;			$.ajax({				url: "/user/isPrivateLogin",				success: function(msg){					if(msg.isPrivateLogin=="no"){						alert("no");						return  0;								   	 					}else{						alert("yes");						return 1;					}				}			});		}				function tip() 		{  			//alert("tip");		    seed--;  		    if (seed < 1) 		    {  		        enableBtn();  		        seed = 60;  		        $("#qrbtj").val('确认并提交');  		        var t2 = clearInterval(t1);  		    } else {  		        $("#qrbtj").val(seed + "秒后重新获取");  		    }  		} 		    </script><body><#include "/client/common_header.ftl"/><!-- ********************导航-结束******************** --><div class="index_banner">	<div class="banner_scrool">		<#if big_scroll_ad_list5??>			<#list big_scroll_ad_list5 as item>				<a href="${item.linkUri!''}"><img src="${item.fileUri!''}" /> </a>			</#list>		</#if>	</div>	<div class="move_btn">		<ul>			<#if big_scroll_ad_list5??>				<#list big_scroll_ad_list5 as item>					<li><a></a></li>				</#list>			</#if>		</ul>	</div></div><!-- ********************定制旅游提交Start******************** --><div class="from_warpper">    <div class="f_privatecustom_fromcontain">        <a href="javascript:void(0);" class="f_colse" onclick="$(this).parent('div').hide();">╳</a>        <div class="from_top"></div>        <div class="from_content">        <form id="form1">            <div class="item" id="yincang2" style="display:inline">                <h1>您的定制需求</h1><span style="color: red;display:block; text-align:center;" id="error"></span>                <div class="incontent">                    <ul>                        <li>                            <div class="item">                                <i class="whither"></i>                                <#--<input type="text" class="shorttext" id="a" datatype="s2-20" onfocus="if($(this).val()=='您的目的地'){$(this).val('');}" onblur="if($(this).val()==''){$(this).val('您的目的地');}" value="您的目的地" errormsg="信息填写错误！"/>-->                                <input type="text" class="shorttext" id="a" datatype="*" placeholder="你的目的地" errormsg="信息填写错误！" value="${mdd!''}"/>                            </div>								<span class="white_space"></span>                            <div class="item" >                                <i class="numbers"></i>                                <input type="text" class="shorttext" id="b" datatype="n1-3" placeholder="出行人数" onfocus="if($(this).val()=='出行人数'){$(this).val('');}" onblur="if($(this).val()==''){$(this).val('出行人数');}" value="${cxrs!''}" errormsg="请填写纯数字！"/>                            </div>                        </li>                        <li>                            <div class="item">                                <i class="date"></i>                                <input type="text" class="shorttext" onfocus="WdatePicker({dateFmt:'yyyy-MM-dd',lang:'zh-cn'})" id="c" onfocus="if($(this).val()=='出发日期'){$(this).val('');}" onblur="if($(this).val()==''){$(this).val('出发日期');}" placeholder="出发日期" value="${cfrq!''}"/>                            </div>                            <span class="white_space"></span>                            <div class="item">                                <i class="date"></i>                                <input type="text" class="shorttext" onfocus="WdatePicker({dateFmt:'yyyy-MM-dd',lang:'zh-cn'})" id="d" onfocus="if($(this).val()=='返程日期'){$(this).val('');}" onblur="if($(this).val()==''){$(this).val('返程日期');}" placeholder="返程日期" value="${fcrq!''}"/>                            </div>                        </li>                        <li>                            <div class="item">                                <i class="byway"></i>                                <input type="text" class="shorttext" onfocus="if($(this).val()=='出发方式'){$(this).val('');}" onblur="if($(this).val()==''){$(this).val('出发方式');}" placeholder="出发方式" value="${cffs!'出发方式'}" id="trip"/>                                <div class="way_warp" id="yincang" >                                    <div class="l_choose">                                        <ul>                                            <li class="selected" id="000" ><a href="javascript:void(0);" onclick="way(0);" id="0" selectval="0">不限</a></li>                                            <li id="111"><a href="javascript:void(0);" onclick="way(1);" id="1" selectval="1">邮轮</a></li>                                            <li id="222"><a href="javascript:void(0);" onclick="way(2);" id="2" selectval="2">飞机</a></li>                                            <li id="333"><a href="javascript:void(0);" onclick="way(3);" id="3" selectval="3">火车</a></li>                                            <li id="444"><a href="javascript:void(0);" onclick="way(4);" id="4" selectval="4">汽车</a></li>                                        </ul>                                    </div>                                    <div class="r_choose">                                        <div class="c_item" id="11">                                            <label><input type="radio" onclick="change();" name="radio" value="邮轮-经济舱" />经济舱</label>                                            <label><input type="radio" onclick="change();" name="radio" value="邮轮-商务舱" />商务舱</label>                                            <label><input type="radio" onclick="change();" name="radio" value="邮轮-头等舱" />头等舱</label>                                        </div>                                        <div class="c_item" id="22">                                            <label><input type="radio" onclick="change();" name="radio" value="飞机-经济舱" />经济舱</label>                                            <label><input type="radio" onclick="change();" name="radio" value="飞机-商务舱" />商务舱</label>                                            <label><input type="radio" onclick="change();" name="radio" value="飞机-头等舱" />头等舱</label>                                        </div>                                        <div class="c_item" id="33">                                            <label><input type="radio" onclick="change();" name="radio" value="火车-软卧" />软卧</label>                                            <label><input type="radio" onclick="change();" name="radio" value="火车-硬卧" />硬卧</label>                                            <label><input type="radio" onclick="change();" name="radio" value="火车-软座" />软座</label>                                            <label><input type="radio" onclick="change();" name="radio" value="火车-硬座" />硬座</label>                                        </div>                                        <div class="c_item" id="44">                                            <label><input type="radio" onclick="change();" name="radio" value="汽车-卧铺" />卧铺</label>                                            <label><input type="radio" onclick="change();" name="radio" value="汽车-座位" />座位</label>                                        </div>                                    </div>                                </div>                            </div>                            <span class="white_space"></span>                            <div class="item">                                <i class="hotelstar"></i>                                <select id="f">  								  <option value="一星级酒店" <#if jd?? && jd=="一星级酒店">selected</#if>>一星级酒店</option>  								  <option value="二星级酒店" <#if jd?? && jd=="二星级酒店">selected</#if>>二星级酒店</option>  								  <option value="三星级酒店" <#if jd?? && jd=="三星级酒店">selected</#if>>三星级酒店</option>  								  <option value="四星级酒店" <#if (jd?? && jd=="四星级酒店") || !jd??>selected</#if>>四星级酒店</option>  								  <option value="五星级酒店" <#if jd?? && jd=="五星级酒店">selected</#if>>五星级酒店</option>  								</select>                              </div>                        </li>                        <li>                            <div class="item">                                <i class="phone"></i>                                <input type="text" class="shorttext" id="g" datatype="m" errormsg="请填写手机号！" onfocus="if($(this).val()=='您的联系电话'){$(this).val('');}" onblur="if($(this).val()==''){$(this).val('您的联系电话');}" placeholder="您的联系电话" value="${lxdh!''}"/>                            </div>                            <span class="white_space"></span>                            <div class="item">                                <i class="email"></i>                                <input type="text" class="shorttext" id="h" datatype="e" errormsg="邮箱格式不对！" onfocus="if($(this).val()=='您的邮箱'){$(this).val('');}" onblur="if($(this).val()==''){$(this).val('您的邮箱');}" placeholder="您的邮箱" value="${yx!''}"/>                            </div>                        </li>                        <li>                        	<div class="item">                                <i class="money"></i>                                <input type="text" class="shorttext" id="j" datatype="n" onfocus="if($(this).val()=='请输入你的最大支付限额'){$(this).val('');}" onblur="if($(this).val()==''){$(this).val('请输入你的最大支付限额');}" placeholder="请输入你的最大支付限额" value="${zdzfxe!''}"/>                            </div>                            <span class="white_space"></span>                            <div class="item">                                <i class="pen"></i>                                <input type="text" class="shorttext" id="i" onfocus="if($(this).val()=='特殊要求：如：单人房、双人房'){$(this).val('');}" onblur="if($(this).val()==''){$(this).val('特殊要求：如：单人房、双人房');}" placeholder="特殊要求：如：单人房、双人房" value="${tsyq!''}"/>                            </div>                        </li>                    </ul>                                        <style>                        .wrap_submit1 {                            margin-left: 140px;                            float: left;                            width: 730px;                        }                        .wrap_submit1 .btn_submit {                            float: right;                        }                        .wrap_submit1 label{                            line-height: 20px;                            float: left;                            margin-right: 15px;                        }                        .wrap_submit1 label input{                            width: 15px;                            float: left;                            margin-top: 3px;                            margin-right: 5px;                        }                    </style>                    <div class="warp_submit wrap_submit1">                        <label><input name="privateType" value="休闲旅行" <#if pt?? && pt=="0" || !pt??>checked</#if> type="radio"/>休闲旅行</label>                        <label><input name="privateType" value="奖励旅行" <#if pt?? && pt=="1">checked</#if> type="radio"/>奖励旅行</label>                        <label><input name="privateType" value="商务考察" <#if pt?? && pt=="2">checked</#if> type="radio"/>商务考察</label>                        <input type="button" class="btn_submit" id="button1" value="提交定制">                    </div>                                        <#--	                    <span class="warp_submit">	                    	<input type="button" class="btn_submit" id="button1" value="提交定制">	                    </span>                    -->                </div>            </div>            </form>            <div class="item" id="yincang3" style="display: none;">                <h1>您定制的信息为：</h1>                <div class="private_info">                    <ul>                        <li>                            <div class="item">                                <label>目的地：</label> <span id="aa"></span>                            </div>                            <div class="item">                                <label>出行人数：</label> <span id="bb"></span>                            </div>                        </li>                        <li>                            <div class="item">                                <label>出发日期：</label> <span id="cc"></span>                            </div>                            <div class="item">                                <label>返程日期：</label> <span id="dd"></span>                            </div>                        </li>                        <li>                            <div class="item">                                <label>出发方式：</label> <span id="ee"></span>                            </div>                            <div class="item">                                <label>酒店星级：</label> <span id="ff"></span>                            </div>                        </li>                        <li>                            <div class="item">                                <label>您的电话：</label> <span id="gg"></span>                            </div>                            <div class="item">                                <label>您的邮箱：</label> <span id="hh"></span>                            </div>                        </li>                        <li>                            <div class="item">                                <label>预支出金额：</label> <span id="jj"></span>                            </div>                        </li>                        <li>                            <div class="item">                                <label>备注：</label> <span id="ii"></span>                            </div>                        </li>                    </ul>                    <span class="warp_submit">                        <input type="button" id="qrbtj" onclick="ajaxSubmit();" class="btn_submit" value="确认并提交">                        <a href="javascript:void(0);" onclick="click1();" class="btn_back" >返回重填</a>                    </span>                </div>            </div>            <div class="operation_success" id="success1" style="display: none;">                <span class="success_icon"></span>                <span>提交成功</span>                <label>提交成功后请保持联系方式畅通,并为你匹配到如下信息。</label>                <a href="javascript:void(0);" class="a_close" onclick="click22();">关闭</a>            </div>        </div>    </div></div><!-- ********************定制旅游提交End******************** --><!-- ********************中间内容Start******************** --><div class="wrapper">    </div><!-- ********************中间内容End******************** --><!-- ********************底部******************** --><#include "/client/common_footer.ftl" /><!-- ********************底部-结束******************** --></body></html>